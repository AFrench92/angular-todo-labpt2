<main class="main">
  <section class="todos-container">
    <h1>TODO List</h1>
    <p>A place to store your todos</p>
    <form #filterForm="ngForm" (input)="setFilterTerm(filterForm)">
      <label for="searchTerm">Filter Your Tasks</label>
      <input type="text" name="searchTerm" id="searchTerm" ngModel />
    </form>
    <ol>
      <li *ngFor="let todo of filterTasks(); index as i">
        <div class="task-container">
          <div class="todo-container">
            <button *ngIf="!todo.completed" (click)="completeTask(i)">
              Complete
            </button>
            <p [ngClass]="{ strikethrough: todo.completed }">{{ todo.task }}</p>
          </div>
          <div class="end-section">
            <button *ngIf="!todo.edit" (click)="editButton(i)">Edit</button>
            <form
              *ngIf="todo.edit"
              #editForm="ngForm"
              (submit)="editTask(editForm, i)"
            >
              <label for="edit">Edit Task</label>
              <input
                type="text"
                name="edit"
                id="edit"
                [(ngModel)]="todo.task"
              />
              <button>Confirm Edit</button>
            </form>
            <button (click)="removeTask(i)">X</button>
          </div>
        </div>
      </li>
    </ol>
    <form #addTaskForm="ngForm" (ngSubmit)="addTask(addTaskForm)">
      <label for="task">New Task</label>
      <input type="text" id="task" name="id" ngModel />
      <button>Submit</button>
    </form>
  </section>
</main>
